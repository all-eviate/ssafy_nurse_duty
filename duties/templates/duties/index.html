{% extends 'base.html' %}
{% load static %}

{% block content %}
  <header>
    <p class="display-6 text-center">Index Page</p>

    <div class="d-flex justify-content-end">
      {% if request.user.is_authenticated %}
        <p><a class="btn btn-outline-success mx-2" href="{% url 'articles:index' %}" role="button">속닥속닥</a></P>

        <p><a class="btn btn-outline-success mx-2" href="{% url 'accounts:profile' user.pk %}" role="button">프로필</a></P>

        <p><a class="btn btn-outline-success mx-2" href="{% url 'accounts:update' %}" role="button">회원정보 수정</a></P>

        <form action="{% url 'accounts:logout' %}" method="POST" class="mx-2">
          {% csrf_token %}
          <button class="btn btn-outline-danger" type="submit">로그아웃</button>
        </form>

        <form action="{% url 'accounts:delete' %}" method="POST" class="ms-2">
          {% csrf_token %}
          <button class="btn btn-outline-danger" type="submit">회원 탈퇴</button>
        </form>
      {% else %}
        <p><a class="btn btn-outline-primary mx-2" href="{% url 'accounts:login' %}" role="button">로그인</a></P>

        <p><a class="btn btn-outline-primary ms-2" href="{% url 'accounts:signup' %}" role="button">회원가입</a></P>
      {% endif %}
    </div>
    <hr>
  </header>

  <section class="container">
    <br>
    {% if user.emp_grade == "leader" %}
      <div class="container">
        <form action="{% url 'duties:new' %}" method="POST" class="row justify-content-start ">
          {% csrf_token %}
          <input type="text" name="month" placeholder="달을 입력하세요." class="col-4 mx-2">
          <input type="submit" value="저장" class="col-1 mx-1">
        </form>
      </div>
    {% endif %}
    <br>
    <div class="outer">
        <a class="btn btn-outline-danger left" href="{% url 'duties:index' %}?{{ prev_month }}"><span>이전 달</span> </a>
        <a class="btn btn-outline-danger right" href="{% url 'duties:index' %}?{{ next_month }}"><span>다음 달</span> </a>
    </div>
    {{calendar}}
    <br>
    
  </section>
{% endblock content %}
